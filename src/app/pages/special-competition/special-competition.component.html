<!-- <p>daily-competition works!</p> -->
<!-- <div class="main-container">
  <app-multi-step-form
    class="multi-step-form"
    [formContent]="formContent"
    (formSubmit)="onFormSubmit($event)"
  ></app-multi-step-form>
</div> -->


<div class="container daily-competition-wrap">
    <div class="stepwizard">
        <div class="stepwizard-row setup-panel">
            <div class="stepwizard-step">
                <a href="#step-1" type="button" class="btn btn-success btn-circle">1</a>

            </div>
            <div class="stepwizard-step">
                <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>

            </div>
            <div class="stepwizard-step">
                <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>

            </div>
            <div class="stepwizard-step">
                <a href="#step-4" type="button" class="btn btn-default btn-circle" disabled="disabled">4</a>

            </div>
            <div class="stepwizard-step">
                <a href="#step-5" type="button" class="btn btn-default btn-circle" disabled="disabled">5</a>

            </div>
            <div class="stepwizard-step">
                <a href="#step-6" type="button" class="btn btn-default btn-circle" disabled="disabled">6</a>

            </div>
            <div class="stepwizard-step">
                <a href="#step-7" type="button" class="btn btn-default btn-circle" disabled="disabled">7</a>

            </div>

        </div>
    </div>

    <form role="form" id="myform" class="k-form" [formGroup]="formVar" (ngSubmit)="onSubmit()">
        <div class="panel panel-primary setup-content" id="step-1">
            <div class="panel-heading">
                 <h3 class="panel-title">Create Competition</h3>
            </div>
            <div class="panel-body">
            	<div class="row">
                    <div class=" col-sm-12 col-md-4 ">
                      <div class="competition-logo-upload form-group">
						<label> Competition Logo </label>
						<input accept="image/x-png,image/jpeg" type="file" class="form-control choosefiles"  (change)="uploadCompetitionLogo($event)" required [ngClass]="{ 'is-invalid': f.logo.errors }">
						<input type="hidden" name="fileHidden" formControlName="imageInput" required [ngClass]="{ 'is-invalid': f.imageInput.errors }"/> <!-- Validation Field -->
						</div>
						<div *ngIf="f.imageInput.errors" class="invalid-feedback text-left">
							<div *ngIf="f.imageInput.errors.required"><label> Competition logo is required </label></div>
							<!-- <div *ngIf="f.email.errors.email">Email must be a valid email address</div> -->
						</div>
						<!-- Image Preview -->
						<div class="form-group">
							<div class="preview" *ngIf="preview && preview !== null">
							<img [src]="preview" [alt]="formData.competitionName" height="150" >
							</div>
						  </div>
					</div>

                    <div class="col-sm-12 col-md-8 ">

                      <div class="form-group m-b-15">
                        <label class="control-label">Name of the competition</label> <!-- required="required" -->
                        <input class="form-control"  formControlName="competitionName" placeholder=" " type="text" required [ngClass]="{ 'is-invalid': f.competitionName.errors }">
                      </div>

                      <!-- <div class="form-group  m-b-15">
                        <label>Description</label>
                        <textarea class="form-control" cols="5"  formControlName="description" placeholder="Default textarea" rows="5" required [ngClass]="{ 'is-invalid': f.description.errors }"></textarea>
                      </div> -->

                       <div class="form-group m-b-15">
                          <label>Upload Your File </label>
                          <input  #variable accept=".xlsx" (change)="fileChange($event)" type="file" class="form-control choosefiles" formControlName="excelFile" required [ngClass]="{ 'is-invalid': f.excelFile.errors }">
                        </div>
                        <a href="assets/file/sample_competition.xlsx">
							<div class="group m-b-15">
							Sample Quiz <img src="assets/images/sample-quiz.jpg">
                        	</div>
						</a>

                      <div class="form-group color m-b-15">
                        <label>Upload Your File </label>
                        <input  #variable accept=".zip"  (change)="fileChange($event)" type="file" class="form-control choosefiles" formControlName="zipFile" >
                      </div>
                      <div class="group m-b-15">
                        Please upload a zip file which contains subfolders for Images
                        and Videos. The image file type should be .png / .jpg / .jpeg
                        and the video file type should be .mp4. The images and
                        videos should be placed in their designated folders.
                        </div>
                        <!---
                        <div class="group  files color m-b-15" style="display: block;">
                          <label>Upload Your File </label>
                          <input class="form-control" multiple="" type="file">
                        </div>
                        -->


                            <button type="button" class="btn btn-warning text-white upload m-b-15" (click)="upload()" id="btnUpload" [disabled]="loading">{{ loading ? 'Uploading...' : 'Upload' }}</button>

                    </div>
                  </div>
                  <div class="row">
                  	<div class="col-sm-12 col-md-12">
                  		<!-- spinnner element is defined with id loading -->
		              	<div class="justify-content-center" id="loading-s" style="display: none !important">
		                  	<div class="spinner-border" role="status">
		                      	<span class="sr-only" id="loading"></span>
		                  	</div>
		              	</div>

                  		<div *ngIf="!isProcessed && (errorCode == 1 )"><h1 class="sucessful">{{errorDesc}}</h1></div>
                      	<div *ngIf="isError">

						  <h3 class="errors-following">Following data is having errors:</h3>
						  <div class="publish-table-wrap table-responsive">
							<table width="100%" border="1" class="table table-striped table-bordered nowrap dataTable">
					        <thead>
					          <tr>
								<th width="10%">Remarks</th>
					          	<th width="10%">Category</th>
					            <th width="10%">Question</th>
					            <th width="10%">Question File Url</th>
								<th width="10%">Answer</th>
								<th width="10%">Option 1</th>
					            <th width="10%">Option 2</th>
					            <th width="10%">Option 3</th>
					            <th width="10%">Option 4</th>
								<th width="10%">Level</th>
								<th width="10%">Duration</th>
					            <th width="10%">Notes</th>

					          </tr>
					        </thead>
					        <tbody>
					          <tr *ngFor="let item of errorData">
								<td [style.color]="'red'" [innerHTML]="item.Remarks" width="15%"></td>
					          	<td width="10%">{{ item.category }}</td>
					            <td width="10%">{{ item.question }}</td>
					            <td width="10%" class="overflow-wrap">{{ item.question_file_url }}</td>
								<td width="10%">{{ item.answer }}</td>
								<td width="10%">{{ item.option1 }}</td>
					            <td width="10%">{{ item.option2 }}</td>
					            <td width="10%">{{ item.option3 }}</td>
					            <td width="10%">{{ item.option4 }}</td>
								<td width="10%">{{ item.level }}</td>
								<td width="10%">{{ item.duration }}</td>
					            <td width="10%">{{ item.note }}</td>

					          </tr>
					        </tbody>
						  </table>
						  </div>
					    </div>
					    <div *ngIf="!isError && isProcessed">
					      <h1 class="sucessful">Data validated successfully</h1>
					    </div>
                  	</div>
                  </div>
                  <!-- <div class="col-sm-12 col-md-8 ">
                <div class="form-group m-b-15">
                    <label class="control-label">First Name</label>
                    <input maxlength="100" type="text" required="required" class="form-control" placeholder="Enter First Name" />
                </div>
                <div class="form-group">
                    <label class="control-label">Last Name</label>
                    <input maxlength="100" type="text" required="required" class="form-control" placeholder="Enter Last Name" />
                </div>
            </div> -->
                <!-- <button class="btn btn-primary prevBtn pull-right" type="button">Prev</button> -->
                <div class="row" id="buttonNextHide">
                	<div class="col-sm-12 col-md-12 mt-3">
						<div class="form-group">
                		<button required class="btn allam-btn-green text-white nextBtn uploadButton pull-right" type="button"[disabled]="loading">{{ loading ? 'Wait...' : 'Next' }}</button>
                		</div>
                	</div>
                </div>
            </div>
        </div>

        <div class="panel panel-primary setup-content" id="step-2">
            <div class="panel-heading">
                 <h3 class="panel-title">Competition Data</h3>
            </div>
            <div class="panel-body">
                <div class="row">
		            <div class="col-xs-12 col-sm-12 mb-3">
		              <div class="dt-responsive table-responsive">
		                <table id="autofill" class="table table-striped table-bordered nowrap dataTable" role="grid" aria-describedby="autofill_info">
		                  <thead>
		                    <tr>
		                      <!-- <th width="10%">Category</th> -->
		                      <th width="10%">Question</th>
		                      <th width="10%" >Question File Url</th>
							  <th width="10%">Answer</th>
							  <th width="10%">Option 1</th>
		                      <th width="10%">Option 2</th>
		                      <th width="10%">Option 3</th>
		                      <th width="10%">Option 4</th>
							  <th width="10%">Duration</th>
							  <th width="10%">Level</th>
		                      <th width="10%">Notes</th>

		                    </tr>
		                  </thead>
		                  <tbody>
		                    <tr *ngFor="let item of fileData">
		                      <!-- <td width="10%">{{ item.category }}</td> -->
		                      <td width="10%">{{ item.question }}</td>
		                      <td width="10%" class="overflow-wrap">{{ item.question_file_url }}</td>
							  <td width="10%">{{ item.answer }}</td>
							  <td width="10%">{{ item.option1 }}</td>
		                      <td width="10%">{{ item.option2 }}</td>
		                      <td width="10%">{{ item.option3 }}</td>
		                      <td width="10%">{{ item.option4 }}</td>
							  <td width="10%">{{ item.duration }}</td>
							  <td width="10%">{{ item.level }}</td>
		                      <td width="10%">{{ item.note }}</td>

		                    </tr>
		                  </tbody>
		                </table>
		              </div>
		            </div>
		        </div>

                <div class="row">
                	<div class="col-sm-12 col-md-12 ">
                		<button class="btn allam-btn-green text-white nextBtn pull-right ml-5" type="button">Next</button>
                		<button class="btn btn-warning prevBtn pull-right" type="button">Prev</button>
                	</div>
                </div>
            </div>
        </div>

        <div class="panel panel-primary setup-content" id="step-3">
            <div class="panel-heading">
                 <h3 class="panel-title">Set Date and Time</h3>
			</div>

			<div class="row justify-content-center set-promotion-wrap">

				<div class="col-md-10 text-right ">
            <div class="panel-body">
            	<div class="row">
                	<div class="col-sm-12 col-md-12 show-slot" >
						<button class="btn border pull-right" type="button" (click)="onClick($event)" >Show Slot</button>
					</div>
					<div class="col-sm-12 col-md-12 " >
						<div *ngIf="f.slot_time.errors" class="invalid-feedback" >
							<div *ngIf="f.slot_time.errors.required"><label> Slot time is required </label></div>
							<!-- <div *ngIf="f.email.errors.email">Email must be a valid email address</div> -->
						</div>
					</div>
					<div class="col-sm-12 col-md-12 " >&nbsp; <br/></div>
					<div class="col-sm-12 col-md-6 ">
						<div class="form-group m-b-15 sdtime">
							<label>&nbsp;</label>
							<label>
								Start Date
							</label> <!-- {{jstoday}}  -->
							<!-- [max]="max" -->
							<!-- <input type="text" [(ngModel)]="invalidMoment" formControlName="startDateTime"  placeholder="Date Time" class="form-control" readonly="yes" required
									[min]="min"
									[owlDateTimeTrigger]="dt11" [owlDateTime]="dt11"
									>
									<span class="trigger" [owlDateTimeTrigger]="dt11">
										<i class="fas fa-calendar-alt"></i>
									</span>
							<owl-date-time [showSecondsTimer]="true" [pickerMode]="'popup'" #dt11></owl-date-time> -->

							<input placeholder="Date:" type="text"
								[(ngModel)]="myDate" formControlName="startDate"
								class="form-control" readonly="yes" required
								[min]="min" (ngModelChange)="dateonChange($event)"
								[owlDateTimeTrigger]="dt1" [owlDateTime]="dt1">
							<owl-date-time [pickerType]="'calendar'" #dt1></owl-date-time>
							<!-- <div *ngIf="startTime.invalid && startTime.errors.owlDateTimeMin">
								Date Time value must after {{min | date: 'medium'}}
							</div> -->
							<!-- <div *ngIf="dateTime.invalid && dateTime.errors.owlDateTimeMax">
								Date Time value must before {{max | date: 'medium'}}
							</div> -->

						</div>
					</div>
					<div class="col-sm-12 col-md-6 ">
						<div class="form-group m-b-15 sdtime">
							<label>&nbsp;</label>
							<label>
								End Date
							</label> <!-- {{jstoday}}  -->

							<input placeholder="Date:" type="text"
								[(ngModel)]="myDate1" formControlName="endDate"
								class="form-control" readonly="yes" required
								[min]="min"
								[owlDateTimeTrigger]="dt11" [owlDateTime]="dt11">
							<owl-date-time [pickerType]="'calendar'" #dt11></owl-date-time>
						</div>
					</div>
					<!-- <div class="col-sm-12 col-md-6 ">
						<div class="form-group m-b-15">
						<label>	Start Date</label>
						<input type="date" class="form-control" id="start_date"  formControlName="startDate" value="{{ post.startDate | date:'yyyy-MM-dd' }}" required [ngClass]="{ 'is-invalid': f.startDate.errors }">
						</div>
					</div>
                    <div class="col-sm-12 col-md-6 ">
						<div class="form-group m-b-15">
							<label>Start Time</label>
							<input type="time" step="1" class="form-control" id="start_time" formControlName="startTime" required [ngClass]="{ 'is-invalid': f.startTime.errors }">
						</div>
					</div> -->
					<div class="col-sm-12 col-md-6 ">
						<div class="row11">
						  <div class="form-group m-b-15">
							  <label>Waiting Time (In Minutes)</label>
							  <div class="col-sm-6 col-md-12 ">
								  <!-- <label>Minutes</label> -->
								  <select class="form-control select2 waiting-time1" formControlName="minute_time" type="text" required [ngClass]="{ 'is-invalid': f.minute_time.errors }">
									<!--  <option value="01" >01</option>
									 <option value="02" >02</option>
									<option value="03" >03</option>
									 <option value="04" >04</option>
									<option value="05" >05</option> -->
									<!-- <option value="06" >06</option>
									<option value="07" >07</option>
									<option value="08" >08</option>
									<option value="09" >09</option> -->
									<option value="10" >10</option>
									<option value="15" >15</option>
								  </select>
							  </div>
							 <!--  <div class="col-sm-6 col-md-6 pr-0">
								  <label>Seconds</label>
								  <select class="form-control select2 waiting-time1" formControlName="second_time" type="text" required [ngClass]="{ 'is-invalid': f.second_time.errors }">
									  <option *ngFor="let option of oneToSixtyArray" [value]="option" >{{option}}</option>
								  </select>
							  </div> -->
						  </div>
					  </div>

					  </div>
                    <!-- <div class="col-sm-12 col-md-6 ">
						<div class="form-group m-b-15">
                      <label>
                        End Date
                        </label>
                        <input type="date" class="form-control" id="end_date" formControlName="endDate" value="{{ post.endDate | date:'yyyy-MM-dd' }}" required [ngClass]="{ 'is-invalid': f.endDate.errors }">
					</div>
					</div>
                    <div class="col-sm-12 col-md-6 ">
						<div class="form-group m-b-15">
                      <label>
                        End Time
                        </label>
						<input type="time" step="1" class="form-control" formControlName="endTime" required [ngClass]="{ 'is-invalid': f.endTime.errors }">
						</div>
                    </div> -->

                </div>
                <!-- The Modal -->
				<div class="modal" id="myModal" [style.display]="showModal ? 'block' : 'none'">
				    <div class="modal-dialog">
				      <div class="modal-content">

				        <!-- Modal Header -->
				        <div class="modal-header">
				          <h4 class="modal-title">Slot Details:</h4>
				          <button type="button" class="close" data-dismiss="modal" (click) = "hide()">&times;</button>
				        </div>

				        <!-- Modal body -->
				        <div class="modal-body slot-details-wrap form-group">
							<label>Choose your time slot</label>
							<div class="col-sm-12 col-md-12 ">
								<div class="row">
									<div class="col-sm-12 col-md-3 " *ngFor = " let durationOption of slotDuration" >  
										<!-- <li><a href="#">{{displayParameter}}</a></li>     -->
										<!-- <input type="radio"  name="displayParameter"  (change) ="handleChange(event)")>  -->
										<input type="radio" name="slot_time" formControlName="slot_time" value="{{durationOption}}" [checked]="false" required [ngClass]="{ 'is-invalid': f.slot_time.errors }" > <span> {{durationOption}} </span>
									</div>
								</div>
								
							</div>
					  </div>

				        <!-- Modal footer -->
				        <div class="modal-footer">
				          <button type="button" class="btn btn-warning" data-dismiss="modal" (click) = "hide()">Close</button>
				        </div>

				      </div>
				    </div>
				</div>

                <div class="row">
                	<div class="col-sm-12 col-md-12 ">
                		<button class="btn allam-btn-green text-white nextBtn pull-right ml-5 check-slot"  (click)="checkSlot(formVar.value)" type="button">Next</button>
                		<button class="btn btn-warning prevBtn pull-right" type="button">Prev</button>
                	</div>
                </div>
			</div>
			</div>
			</div>
        </div>
        <div class="panel panel-primary setup-content" id="step-4">
            <div class="panel-heading">
                 <h3 class="panel-title">Promotion</h3>
			</div>
			<div class="row justify-content-center set-promotion-wrap">

				<div class="col-md-9 text-right ">
            <div class="panel-body">

                <div class="row">
                    <div class="col-sm-12 col-md-12 ">
						<div class="form-group m-b-15">
                        <select class="form-control select2" formControlName="promotion_type" type="text" style="width: 100%;" (change)="onChange($event)" required [ngClass]="{ 'is-invalid': f.promotion_type.errors }">
                        	<option value="" [selected]="true">--Select--</option>
	                     	<option value="social_media" >Social Media follow promotion</option>
	                     	<option value="Download" >Download</option>
	                     	<option value="Affiliate" >Affiliate Code</option>
							<option value="4" >Bypass promotion</option>
						</select>
						</div>
                    </div>
                    <div class="col-md-12 no-padding" *ngIf="selectedType == 'social_media'">

           <div class="form-group">

					  <input type="text" formControlName="instragramUrl" class="form-control" placeholder="Instragram URL" >
					</div>
					<div class="form-group">

					  <input type="text" formControlName="twitterUrl" class="form-control" placeholder="Twitter URL">
					 </div>
					 <div class="form-group">

					  <input type="text" formControlName="snapchatUrl" class="form-control" placeholder="Snapchat URL">
					</div>
          <div class="form-group">
            <input type="text" formControlName="facebookUrl" class="form-control" placeholder="Facebook URL">
          </div>
					</div>
					<div class="col-md-12 no-padding" *ngIf="selectedType =='Download'">
						<div class="form-group">
					  <label>App logo</label>

					  <input accept="image/x-png,image/jpeg" type="file" class="form-control choosefiles"  (change)="uploadAppLogo($event)" required [ngClass]="{ 'is-invalid': f.app_logo.errors }">
					  </div>
					  <div class="form-group">

					  <input type="text" formControlName="app_name" class="form-control" placeholder="App Name" required [ngClass]="{ 'is-invalid': f.app_name.errors }">
					  </div>
					  <div class="form-group">

					  <input type="text" formControlName="apple_store_url" class="form-control" placeholder="Apple store URL" required [ngClass]="{ 'is-invalid': f.apple_store_url.errors }">
					 </div>
					 <div class="form-group">
						<input type="text" formControlName="apple_schema" class="form-control" placeholder="Apple schema" required [ngClass]="{ 'is-invalid': f.apple_schema.errors }">
					   </div>
					 <div class="form-group">

					  <input type="text" formControlName="google_play_url" class="form-control" placeholder="Google play URL" required [ngClass]="{ 'is-invalid': f.google_play_url.errors }">
					</div>
					</div>
					<div class="col-md-12 no-padding" *ngIf="selectedType =='Affiliate'">
						<div class="form-group">
					  <input type="tel" formControlName="affiliate_url" class="form-control" placeholder="Enter 4 digit Affiliate Code" minlength="3" maxlength="4" pattern="^\d{4}$" required  [ngClass]="{ 'is-invalid': f.affiliate_url.errors }">
					</div>
					</div>
          <div *ngIf="check_validation && checkValid()" class="invalid-feedback text-left">This all field in one required</div>
                </div>
                <div class="row">
                  <div class="col-sm-12 col-md-12 mt-3">
            <button class="btn allam-btn-green text-white nextBtn pull-right ml-5" type="button" [disabled]='checkValid()' [hidden]="check_validation == false">Next</button>
                    <button class="btn allam-btn-green text-white nextBtn pull-right ml-5" type="button" [hidden]="check_validation == true">Next</button>
                    <button class="btn btn-warning prevBtn pull-right" type="button">Prev</button>
                  </div>
                </div>

			</div>
			</div>
			</div>
        </div>
        <div class="panel panel-primary setup-content" id="step-5">
            <div class="panel-heading">
                 <h3 class="panel-title">Narration</h3>
			</div>

            <div class="panel-body">
                <div class="row justify-content-center">

                	<div class="col-sm-12 col-md-10 ">
						<div class="form-group m-b-15">
                      	<label>Narration option</label>
                        <select class="form-control select2" formControlName="narration_type" type="text" style="width: 100%;" (change)="narrationonChange($event)"  [ngClass]="{ 'is-invalid': f.narration_type.errors }">
                        	<!-- <option value="" [selected]="true">--Select--</option>  -->
	                     	<option value="narration" [selected]="true">Narration</option>
	                     	<!-- <option value="live_stareaming" [selected]="true">Live streaming</option> -->
						</select>
						</div>
					</div>
                </div>
				<div class="row justify-content-center">
					<div class="col-md-10 text-right ">
	                    <div class="row" *ngIf="narrationType == 'narration'">
							<!--<div class="col-sm-12 col-md-12 ">
								<label>Enter Company Detail</label>
								</div>-->
		                    <div class="col-sm-12 col-md-6 ">
		                    	<div class="row">
		                    		<div class="col-sm-12 col-md-12 ">
										<div class="form-group m-b-15">
											<label>Narration option</label>
										  <select class="form-control select2" style="width: 100%;" (change)="narrationOption($event)" required [ngClass]="{ 'is-invalid': f.narration_type.errors }">
											  <!-- <option value="" >--Select--</option> -->
											   <option value="url" [selected]="true">Narration File</option>
											   <!-- <option value="text" [selected]="true">Narration Text</option> -->
										  </select>
										  </div>
										</div>
										<div class="col-sm-12 col-md-12 " *ngIf="narrationOptions == 'url'">
											<div class="form-group">
										  <label class="mb-4">Set Narration</label>
											<!-- <input type="url" class="form-control" formControlName="narration_url" placeholder="Enter Narration URL" required [ngClass]="{ 'is-invalid': f.narration_url.errors }"> -->

											<input accept=".mp3" type="file" class="form-control choosefiles" (change)="audFileSelected($event)" required [ngClass]="{ 'is-invalid': f.narration_url.errors }">
											</div>
										</div>

										<div class="col-sm-12 col-md-12 " *ngIf="narrationOptions == 'text'">
											<div class="form-group">
											<label class="mb-4">Enter Narration Text</label>
										<textarea class="form-control narration-text-h" cols="5"  formControlName="narration_text" placeholder="Narration text" rows="5" required [ngClass]="{ 'is-invalid': f.narration_text.errors }"></textarea>
										</div>
										</div>


		                    	</div>
		                	</div>
		                    <div class="col-sm-12 col-md-6 ">
		                    	<div class="row">

			                    	<div class="col-sm-12 col-md-12 ">
										<div class="form-group">
										<label class="mb-4">Enter Company detail</label>
										<input type="text" class="form-control " formControlName="company_name" placeholder="Company Name" required [ngClass]="{ 'is-invalid': f.company_name.errors }">
										</div>
									</div>

			                    	<div class="col-sm-12 col-md-12 ">
										<div class="form-group">

			                        <input type="url" class="form-control " formControlName="company_link" placeholder="Company Link" required [ngClass]="{ 'is-invalid': f.company_link.errors }">
									</div>
			                    	</div>
			                    	<div class="col-sm-12 col-md-12 ">
										<div class="form-group">

			                        <input type="text" class="form-control " formControlName="company_about" placeholder="Company About" required [ngClass]="{ 'is-invalid': f.company_about.errors }">
									</div>
									</div>
									<div class="col-sm-12 col-md-12 ">
										<div class="form-group">
											<label>Company details Time (In Seconds)</label>
											<!-- <input type="time" step="1" class="form-control" formControlName="narration_time" placeholder="Narration Time" required [ngClass]="{ 'is-invalid': f.narration_time.errors }"> -->

											<select class="form-control select2 waiting-time1" formControlName="narration_second_time" type="text" required [ngClass]="{ 'is-invalid': f.narration_second_time.errors }">
												<option value="30" >30</option>
												<option value="59" >59</option>
											</select>

										</div>
									</div>
									<div class="col-sm-12 col-md-12 ">
										<div class="form-group">

									  <div class="competition-logo-upload ">
										<label> Company logo </label>
			                        <input accept="image/x-png,image/jpeg" type="file" class="form-control choosefiles" (change)="uploadCompanyLogo($event)" required [ngClass]="{ 'is-invalid': f.company_logo.errors }">
								</div>
								</div>
									</div>

									<div class="col-sm-12 col-md-12">
										<!-- Image Preview -->
										<div class="form-group float-r">
											<!-- <label class="control-label">company logo: </label> -->
											<div class="preview step-5" *ngIf="companyLogo && companyLogo !== null">
											  <img [src]="companyLogo" [alt]="formData.app_name" height="150" >
											</div>
										</div>
									</div>
									<!-- <div class="col-sm-12 col-md-12 ">
										<div class="form-group">
											<label>Time in second</label>
			                        <input type="time" step="1" class="form-control" formControlName="narration_time" placeholder="Narration Time">
									</div>
									</div> -->
			                    </div>
			                </div>
		            	</div>

		                    <div class="row justify-content-center" *ngIf="narrationType == 'live_stareaming'">
								<!-- <div class="col-md-12 text-right ">
									<div class="form-group">

			                        <input type="url" class="form-control" formControlName="live_stream_url" placeholder="Live Stream URL" required [ngClass]="{ 'is-invalid': f.live_stream_url.errors }">

								</div>
								</div> -->
								<div class="col-md-12 text-right ">
									<div class="form-group">
									  <label>Brodcaster option</label>
										<select class="form-control select2" formControlName="broadcaster" type="text" style="width: 100%;" (change)="broadcasteronChange($event, formVar.value)" required [ngClass]="{ 'is-invalid': f.broadcaster.errors }">
											<option value="0" [selected]="true">--Select--</option>
											<option *ngFor="let option of broadcasterData" [value]="option.id" >{{option.email}}</option>
										</select>
									</div>
								</div>
		                	</div>

	            	</div>
                </div>

                <div class="row">
                	<div class="col-sm-11 col-md-11 ">
                		<button class="btn allam-btn-green text-white nextBtn pull-right ml-5" type="button">Next</button>
                		<button class="btn btn-warning prevBtn pull-right" type="button">Prev</button>
                	</div>
                </div>
			</div>


        </div>
        <div class="panel panel-primary setup-content" id="step-6">
            <div class="panel-heading">
                 <h3 class="panel-title">Set Audience</h3>
            </div>
            <div class="panel-body">
                <div class="row">

					<div class="col-sm-12 col-md-12 ">
						<div class="row justify-content-center">
							<div class="col-sm-12 col-md-10 mb-3 ">
							<label>Notification option</label>
								<select class="form-control select2" formControlName="notification_type" type="text" style="width: 100%;" (change)="notificationonChange($event)" required [ngClass]="{ 'is-invalid': f.notification_type.errors }">
									<option value="" [selected]="true">--Select--</option>
									<option value="text" >Text</option>
									<!-- <option value="image" >Image</option> -->
									<option value="text_image" >Text with Image</option>
								</select>

							</div>
						</div>
					</div>
					<div class="col-sm-12 col-md-12 ">
						<div class="row justify-content-center">
							<div class="col-md-10 text-right ">

								<div class="row justify-content-center" *ngIf="notificationType == 'text'">
									<div class="col-md-12 text-right ">
										<div class="form-group">
											<label>Text</label>
											<textarea class="form-control notification-text-h" cols="5"  formControlName="notification_text" placeholder="notification text" rows="5" required [ngClass]="{ 'is-invalid': f.notification_text.errors }"></textarea>
										</div>
									</div>
								</div>
								<div class="row justify-content-center" *ngIf="notificationType == 'image'">
									<div class="col-md-12 text-right ">
										<div class="competition-logo-upload form-group">
											<label>Image</label>
											<input accept="image/x-png,image/jpeg" type="file" class="form-control choosefiles" (change)="uploadNotificationLogo($event)" required [ngClass]="{ 'is-invalid': f.notification_logo.errors }">
										</div>
									</div>
								</div>
								<div class="row justify-content-center" *ngIf="notificationType == 'text_image'">
									<div class="col-md-12 text-right ">
										<div class="competition-logo-upload form-group">
											<label>Text With Image</label>
											<textarea class="form-control notification-text-h" cols="5"  formControlName="notification_text" placeholder="notification text" rows="5" required [ngClass]="{ 'is-invalid': f.notification_text.errors }"></textarea>
											<br>
											<input accept="image/x-png,image/jpeg" type="file" class="form-control choosefiles" (change)="uploadNotificationLogo($event)" required [ngClass]="{ 'is-invalid': f.notification_logo.errors }">
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
					<div class="col-sm-12 col-md-12 ">
						<div class="row justify-content-center">
							<div class="col-sm-12 col-md-12 ">
							<div class="form-group notification_wrap">
								<label class="notification_txt"> Do you want to byPass set audience?</label>
								  <div class="wrap_radio_btn">
								  <label class="radio-box">
									<input type="radio"  formControlName="bypass_audience" value="yes" (change)="changeBypassAudience($event)">Yes
									<span class="checkmark"></span>
								  </label>
								  <label class="radio-box">
									<input type="radio" formControlName="bypass_audience" value="no" (change)="changeBypassAudience($event)">No
									<span class="checkmark"></span>
								  </label>
								  </div>
							</div>
							</div>
						</div>
					</div>
					<div class="col-sm-12 col-md-12 " *ngIf="showTargetAudience">
						<div class="row">

							<div class="col-sm-12 col-md-6 ">
								<div class="row">
									<div class="col-sm-12 col-md-12">
									  <label>Gender</label>
									<select class="form-control select2" formControlName="gender" style="width: 100%;" required [ngClass]="{ 'is-invalid': f.gender.errors }">
										 <option value="male" >Male</option>
										 <option value="female" >Female</option>
										 <option value="both" >Both</option>
									</select>
									</div>

									<!-- <div class="col-sm-12 col-md-12 ">
									<label>State</label>
									<select class="form-control select2" formControlName="state" style="width: 100%;" required [ngClass]="{ 'is-invalid': f.state.errors }">
										 <option value="UP" >UP</option>
										 <option value="delhi" >Delhi</option>
									</select>
									</div> -->
									<!-- <div class="col-sm-12 col-md-12 ">
									<label>Area Locality</label>
									<select class="form-control select2" formControlName="area_locality" style="width: 100%;" required [ngClass]="{ 'is-invalid': f.area_locality.errors }">
										 <option value="sector-36">Sector 36</option>
										 <option value="sector-37" >Sector 37</option>
									</select>
									</div> -->
									<div class="col-sm-12 col-md-12 ">
									  <label>Based on your filter, <strong>2000 users</strong> have been finalised</label>
									  </div>
								</div>
							</div>
							<div class="col-sm-12 col-md-6 ">
								<div class="row">
									<div class="col-sm-12 col-md-12 ">
									  <label>Age Range</label>
									<select class="form-control select2" formControlName="age_range" style="width: 100%;" required [ngClass]="{ 'is-invalid': f.age_range.errors }">
										<option value="6-16">6-16</option>
										<option value="17-27" >17-27</option>
										<option value="28-38" >28-38</option>
										<option value="39-49" >39-49</option>
										<option value="50-60" >50-60</option>
										<option value="61-71" >61-71</option>
									   <option value="72-82" >72-82</option>
									   <option value="83-93" >83-93</option>
									</select>
									</div>

									<div class="col-sm-12 col-md-12 ">
									<label>Nationality</label>
									<select class="form-control select2" formControlName="nationality" style="width: 100%;" required [ngClass]="{ 'is-invalid': f.nationality.errors }">

										 <option *ngFor="let option of nationalityData" [value]="option.id" >{{option.name}}</option>
									</select>
									</div>

									<div class="col-sm-12 col-md-12 ">
									<label>Country</label>
									<select class="form-control select2" formControlName="country" style="width: 100%;" required [ngClass]="{ 'is-invalid': f.country.errors }">
										<option *ngFor="let option of countryData" [value]="option.id" >{{option.name}}</option>
									</select>
									</div>
									<!-- <div class="col-sm-12 col-md-12 ">
										<label>City</label>
										<select class="form-control select2" formControlName="city" style="width: 100%;" required [ngClass]="{ 'is-invalid': f.city.errors }">
											<option value="noida" >Noida</option>
											<option value="gr_noida" >Greater Noida</option>
										</select>
									</div> -->
								</div>
							</div>
							<div class="col-sm-12 col-md-12 ">
								<div class="form-group notification_wrap">

									<label class="notification_txt"> Do you want to send the push notification</label>


									  <div class="wrap_radio_btn">
									  <label class="radio-box">
										<input type="radio"  formControlName="push_notification" value="yes">Yes
										<span class="checkmark"></span>
									  </label>

									  <label class="radio-box">
										<input type="radio" formControlName="push_notification" value="no">No
										<span class="checkmark"></span>
									  </label>
									  </div>



								</div>
							</div>
							<div class="col-sm-12 col-md-6 ">
								<div class="row">
									<div class="col-sm-12 col-md-12 ">
									  <label>Description</label>
									<textarea class="form-control" cols="5"  formControlName="audience_description" placeholder="Audience text" rows="5" required [ngClass]="{ 'is-invalid': f.audience_description.errors }"></textarea>
									</div>
								</div>
							</div>
							<div class="col-sm-12 col-md-6 ">
								<div class="row">
									<div class="col-sm-12 col-md-12 ">
										<div class="form-group">
									  <label>Title</label>
									<input class="form-control"  formControlName="title" placeholder="Title" type="text" required [ngClass]="{ 'is-invalid': f.title.errors }">
								</div>
								</div>
									<div class="col-sm-12 col-md-12 ">
									<div class="form-group">
									<label>Image Upload</label>
									<input accept="image/x-png,image/jpeg" type="file" class="form-control choosefiles" (change)="uploadAudienceLogo($event)" required [ngClass]="{ 'is-invalid': f.image_upload.errors }" >
									</div>
								</div>
								</div>
							</div>

						</div>

					</div>
                </div>






                <div class="row justify-content-center">
                	<div class="col-sm-10 col-md-10 ">
                		<!-- <button class="btn btn-primary nextBtn pull-right" type="button">Next</button> -->
                		<button (click)="setFormPreview(formVar.value)" class="btn allam-btn-green text-white nextBtn pull-right ml-5" type="button">Review</button>
                		<button class="btn btn-warning prevBtn pull-right" type="button">Prev</button>
                	</div>
                </div>
            </div>
        </div>

        <div class="panel panel-primary setup-content" id="step-7">
            <div class="panel-heading">
                 <h3 class="panel-title">Review</h3>
            </div>
            <div class="panel-body">
            	<div class="form-group">
            		<div class="row">
	            		<!-- <div class="col-md-4">
	            			<label class="control-label">Description: </label>
	            			<div class="control-label"> {{formData.description}}</div>
	            		</div> -->
	            		<div class="col-md-6">
	            			<label class="control-label">Name of the competition: </label>
	            			<div class="control-label"> {{formData.competitionName}}</div>
	            		</div>
	            		<div class="col-md-6">
	            			<label class="control-label">Competition Logo: </label>
	            			<!-- Image Preview -->
					        <div class="form-group float-r">
					            <div class="preview" *ngIf="preview && preview !== null">
					              <img [src]="preview" [alt]="formData.competitionName" height="150" >
					            </div>
					        </div>
	            		</div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
			            <div class="col-xs-12 col-sm-12">

							<div class="dt-responsive table-responsive">
			                <table id="autofill" class="table table-striped table-bordered nowrap dataTable" role="grid" aria-describedby="autofill_info">
			                  <thead>
			                    <tr>
			                      <!-- <th width="10%">Category</th> -->
			                      <th width="10%">Question</th>
			                      <th width="10%">Question File Url</th>
								  <th width="10%">Answer</th>
								  <th width="10%">Option 1</th>
			                      <th width="10%">Option 2</th>
			                      <th width="10%">Option 3</th>
			                      <th width="10%">Option 4</th>
								  <th width="10%">Duration</th>
								  <th width="10%">Level</th>
			                      <th width="10%">Notes</th>
			                    </tr>
			                  </thead>
			                  <tbody>
			                    <tr *ngFor="let item of fileData">
			                      <!-- <td width="10%">{{ item.category }}</td> -->
			                      <td width="10%">{{ item.question }}</td>
			                      <td width="10%" class="overflow-wrap">{{ item.question_file_url }}</td>
								  <td width="10%">{{ item.answer }}</td>
								  <td width="10%">{{ item.option1 }}</td>
			                      <td width="10%">{{ item.option2 }}</td>
			                      <td width="10%">{{ item.option3 }}</td>
			                      <td width="10%">{{ item.option4 }}</td>
								  <td width="10%">{{ item.duration }}</td>
								  <td width="10%">{{ item.level }}</td>
			                      <td width="10%">{{ item.note }}</td>
			                    </tr>
			                  </tbody>
			                </table>

						  </div>
			            </div>
			        </div>
                </div>
                <div class="form-group">
            		<div class="row">
	            		<div class="col-md-3">
	            			<label class="control-label">Start Date: </label>
	            			<div class="control-label"> {{formData.startDate | date}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">End Date: </label>
	            			<div class="control-label"> {{formData.endDate  | date}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">Start Time: </label>
	            			<div class="control-label"> {{formData.slot_time}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">End Time: </label>
	            			<div class="control-label">  {{formData.slot_time}}</div>
	            		</div>
                    </div>
                </div>
                <div class="form-group">
            		<div class="row" *ngIf="formData.promotion_type=='social_media'">
	            		<div class="col-md-3">
	            			<label class="control-label">Promotion option: </label>
	            			<div class="control-label"> {{formData.promotion_type}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">Instagram URL: </label>
	            			<div class="control-label"> {{formData.instragramUrl}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">Twitter URL: </label>
	            			<div class="control-label">  {{formData.twitterUrl}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">Snapchat URL: </label>
	            			<div class="control-label">  {{formData.snapchatUrl}}</div>
	            		</div>
                  <div class="col-md-3">
                    <label class="control-label">Facebook URL: </label>
                    <div class="control-label">  {{formData.facebookUrl}}</div>
                  </div>
                    </div>
                    <div class="row" *ngIf="formData.promotion_type=='Download'">
	            		<div class="col-md-3">
	            			<label class="control-label">Promotion option: </label>
	            			<div class="control-label"> {{formData.promotion_type}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">App Logo: </label>

	            			<!-- Image Preview -->
					        <div class="form-group float-r">
					            <div class="preview" *ngIf="appLogo && appLogo !== null">
					              <img [src]="appLogo" [alt]="formData.app_name" height="150" >
					            </div>
					        </div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">App Name: </label>
	            			<div class="control-label"> {{formData.app_name}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">Apple store URL: </label>
	            			<div class="control-label"> {{formData.apple_store_url}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">Google play URL: </label>
	            			<div class="control-label"> {{formData.google_play_url}}</div>
	            		</div>
                    </div>
                    <div class="row" *ngIf="formData.promotion_type=='Affiliate'">
	            		<div class="col-md-3">
	            			<label class="control-label">Promotion option: </label>
	            			<div class="control-label"> {{formData.promotion_type}}</div>
	            		</div>
	            		<div class="col-md-3">
	            			<label class="control-label">Affiliate Code: </label>
	            			<div class="control-label"> {{formData.affiliate_url}}</div>
	            		</div>
                    </div>
                </div>

				<div class="form-group">
            		<div class="row" *ngIf="formData.narration_type=='narration'">
	            		<div class="col-md-3">
							<div class="form-group">
	            			<label class="control-label">Narration option: </label>
							<div class="control-label"> {{formData.narration_type}}</div>
							</div>
	            		</div>
	            		<div class="col-md-3" *ngIf="narrationOptions == 'url'">
							<div class="form-group">
								<label class="control-label">Narration File: </label>
								<!-- <div class="control-label"> {{formData.narration_url}}</div> -->

								<!-- <div class="preview" *ngIf="narrationUrlLogo && narrationUrlLogo !== null">
									<audio controls="" autoplay="" name="media"><source [src]="narrationUrlLogo" type="audio/mp3"></audio>
								</div> -->
								<audio #figAudio controls="" autoplay="" name="media"><source [src]="audSrc | sanitizerUrl" type="audio/mp3"></audio>

								<!-- <audio #figAudio>
									<source [src]="audSrc | sanitizerUrl" type="audio/ogg">
									<source [src]="audSrc | sanitizerUrl" type="audio/mpeg">
									<source [src]="audSrc | sanitizerUrl" type="audio/mp3">
									<source [src]="audSrc | sanitizerUrl" type="audio/wav">
								</audio> -->
							</div>
	            		</div>
	            		<div class="col-md-3" *ngIf="narrationOptions == 'text'">
							<div class="form-group">
	            			<label class="control-label">Narration Text: </label>
							<div class="control-label">  {{formData.narration_text}}</div>
							</div>
	            		</div>

	            		<div class="col-md-3">


	            			<!-- Image Preview -->
					        <div class="form-group float-r">
								<label class="control-label">Company logo: </label>
					            <div class="preview" *ngIf="companyLogo && companyLogo !== null">
					              <img [src]="companyLogo" [alt]="formData.app_name" height="150" >
					            </div>
					        </div>
	            		</div>
	            		<div class="col-md-3">
							<div class="form-group">
	            			<label class="control-label">Company name: </label>
							<div class="control-label">  {{formData.company_name}}</div>
							</div>
	            		</div>
	            		<div class="col-md-3">
							<div class="form-group">
							<label class="control-label">Company link: </label>
							<div class="control-label">  {{formData.company_link}}</div>
							</div>
	            		</div>
	            		<div class="col-md-3">
							<div class="form-group">
	            			<label class="control-label">Company about: </label>
							<div class="control-label">  {{formData.company_about}}</div>
							</div>
	            		</div>
						<div class="col-md-3">
							<div class="form-group">
	            			<label class="control-label">Company Details Time: </label>
							<div class="control-label">  {{showNarration_time}}</div>
							</div>
	            		</div>
                    </div>
                    <div class="row" *ngIf="formData.narration_type=='live_stareaming'">
	            		<div class="col-md-3">
							<div class="form-group">
	            			<label class="control-label">Narration option: </label>
							<div class="control-label"> {{formData.narration_type=='live_stareaming'?'Live Streaming': ''}}</div>
							</div>
	            		</div>
	            		<div class="col-md-3">
							<div class="form-group">
	            			<label class="control-label">broadcaster: </label>
							<div class="control-label"> {{formData.broadcaster}}</div>
							</div>
	            		</div>
                    </div>
                </div>

                <div class="form-group" *ngIf="showTargetAudience">
                    <div class="row">
	            		<div class="col-md-4">
						<div class="form-group">
	            			<label class="control-label">Gender: </label>
							<div class="control-label"> {{formData.gender}}</div>
						</div>
	            		</div>
	            		<div class="col-md-4">
							<div class="form-group">
	            			<label class="control-label">State: </label>
							<div class="control-label"> {{formData.state}}</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
	            			<label class="control-label">Area locality: </label>
							<div class="control-label"> {{formData.area_locality}}</div>
							</div>
	            		</div>



					</div>


                    <div class="row">

	            		<div class="col-md-4">
							<div class="form-group">
	            			<label class="control-label">Age range: </label>
							<div class="control-label"> {{formData.age_range}}</div>
							</div>
	            		</div>

	            		<div class="col-md-4">
							<div class="form-group">
	            			<label class="control-label">City: </label>
							<div class="control-label"> {{formData.city}}</div>
							</div>
	            		</div>
	            		<div class="col-md-4">
							<div class="form-group">
	            			<label class="control-label">Nationality: </label>
							<div class="control-label"> {{formData.nationality}}</div>
							</div>
	            		</div>
					</div>


                    <div class="row">
	            		<div class="col-md-4">
							<div class="form-group">
	            			<label class="control-label">Country: </label>
							<div class="control-label"> {{formData.country}}</div>
							</div>
	            		</div>
	            		<div class="col-md-4">
							<div class="form-group">
								<label class="control-label">Push notification: </label>
							<div class="control-label"> {{formData.push_notification}}</div>
							</div>
						</div>

						<div class="col-md-4">
							<div class="form-group">
	            			<label class="control-label">Audience description: </label>
							<div class="control-label"> {{formData.audience_description}}</div>
							</div>
	            		</div>

					</div>




                    <div class="row">

	            		<div class="col-md-4">
							<div class="form-group">
	            			<label class="control-label">Title: </label>
							<div class="control-label"> {{formData.title}}</div>
							</div>
	            		</div>

	            		<div class="col-md-4">

	            			<!-- Image Preview -->
					        <div class="form-group float-r">
								<label class="control-label">Image upload: </label>
					            <div class="preview" *ngIf="audienceLogo && audienceLogo !== null">
					              <img [src]="audienceLogo" [alt]="formData.title" height="200" >
					            </div>
					        </div>

	            		</div>

                    </div>
				</div>

				<div class="row">
					<div class="col-sm-12 col-md-12 ">
						<div class="form-group">
						<!-- {{percentDone}} -->
	           <!-- Progress Bar -->
	                  <div class="progress form-group" *ngIf="percentDone">
		                 <div class="progress-bar progress-bar-striped bg-success" role="progressbar"
		                    [style.width.%]="percentDone">
		                 </div>
						 </div>
					</div>

					</div>

				</div>

                <div class="row">
                  <input type="hidden" formControlName="competition_type" value="special">
                	<div class="col-sm-12 col-md-12 ">
                		<button class="btn allam-btn-green text-white nextBtn pull-right ml-5" type="submit"  [disabled]="loading">{{ loading ? 'Wait...' : 'Submit' }} </button>
                		<button class="btn btn-warning prevBtn pull-right" type="button">Prev</button>
                	</div>
                </div>

            </div>
        </div>
		<div class="modal crop-image-wrap" id="myCropModal" [style.display]="showCropModal ? 'block' : 'none'">
			<div class="modal-dialog">
			  <div class="modal-content">

				<!-- Modal Header -->
				<div class="modal-header">
				  <h4 class="modal-title">Crop Image</h4>
				  <button type="button" class="close alert-danger" data-dismiss="modal" (click)="closePopup()">&times;</button>
				</div>
				<!-- Modal body -->
				<div class="modal-body slot-details-wrap">
					<image-cropper
					[imageChangedEvent]="imageChangedEvent"
					[maintainAspectRatio]="true"
					[aspectRatio]="3 / 3"
					[resizeToWidth]="600"
					format="png"
					(imageCropped)="imageCropped($event, image_type)"
					(imageLoaded)="imageLoaded()"
					(cropperReady)="cropperReady()"
					(loadImageFailed)="loadImageFailed()"></image-cropper>
					</div>

				<!-- Modal footer -->
				<div class="modal-footer">
				  <button type="button" class="btn btn-warning" data-dismiss="modal" (click)="closePopup()">Done</button>
				</div>

			  </div>
			</div>
		  </div>

        <!-- {{formVar.value | json}} -->
    </form>
</div>
