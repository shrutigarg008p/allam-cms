<div class="container-fluid single-curriculum">
 

  <div class="row">
    <div class="col-md-12 single-curriculum-wrap">
      <div class="row">
        <div class="col-md-12">
          <h4>Competitive exam</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 ">
          <form class="md-float-material" [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="row file-upload">
              <div class="col-md-6">
                <div class="group">
                  <input #variable  accept=".xlsx" (change)="fileChangeXlsx($event, variable)" type="file" class="form-control choosefiles" formControlName="excelFile">
                </div>
                <div class="group">
                  <a href="assets/file/study_exam_format.xlsx">  Sample Quiz
                  <img class="img-fluid" width="20" height="18" alt=" " src="assets/images/sample-quiz.jpg"> </a>
                </div>

              </div>
              <div class="col-md-6">
                <div class="group">
                  <input #variable1 accept=".zip" (change)="fileChangeZip($event, variable1)" type="file" class="form-control choosefiles" formControlName="zipFile">
                </div>
                <div class="group">
                  
                  Upload image Zip folder
                </div>
                <div class="group">
                  <div class="col-md-12">
                    <!-- Progress Bar --> 
                    <div class="progress form-group" *ngIf="percentDone">
                        <div class="progress-bar progress-bar-striped bg-success" role="progressbar"
                          [style.width.%]="percentDone">
                        </div>
                    </div>
                  </div>
                  <!-- spinnner element is defined with id loading -->
                  <div class="justify-content-center" id="loading-s" style="display: none !important"> 
                      <div class="spinner-border" role="status"> 
                          <span class="sr-only" id="loading"></span> 
                      </div> 
                  </div>
                  
                  <button type="button" class="btn allam-btn-green text-white" (click)="upload()" id="btnUpload">Upload</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="row">
        <div *ngIf="isError" class="bulk_table_fullw">
          <div class="card-block col-sm-12 col-xs-12 col-md-12">
            <div class="publish-table-wrap table-responsive">
              <h1>Following data is having errors:</h1>
                <table width="100%" class="table table-striped table-bordered nowrap dataTable" border="1">
                  <thead>
                    <tr>
                      <th width="10%">Category</th>
                      <th width="10%">Question</th>
                      <th width="10%">Question File Url</th>
                      <th width="10%">Answer</th>
                      <th width="10%">Option 2</th>
                      <th width="10%">Option 3</th>
                      <th width="10%">Option 4</th>
                      <th width="10%">Level</th>
                      <th width="10%">Notes</th>
                      <th width="10%">Remarks</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of errorData">
                      <td width="10%">{{ item.category }}</td>
                      <td width="10%">{{ item.question }}</td>
                      <td width="10%">{{ item.question_file_url }}</td>
                      <td width="10%">{{ item.answer }}</td>
                      <td width="10%">{{ item.option2 }}</td>
                      <td width="10%">{{ item.option3 }}</td>
                      <td width="10%">{{ item.option4 }}</td>
                      <td width="10%">{{ item.level }}</td>
                      <td width="10%">{{ item.notes }}</td>
                      <td [innerHTML]="item.Remarks" width="15%"></td>
                    </tr>
                  </tbody>
                </table>
            </div>
          </div>
        </div>
        <div *ngIf="isProcessed" class="bulk_table_fullw">
                <div class="card-block col-sm-12 col-xs-12 col-md-12">
                  <div class="publish-table-wrap table-responsive">
                    <table id="autofill" class="table table-striped table-bordered nowrap dataTable" role="grid" aria-describedby="autofill_info">
                      <thead>
                        <tr>
                          <th>Level</th>
                          <th>Answer</th>
                          <th>Option 4</th>
                          <th>Option 3 </th>
                          <th>option 2 </th>
                          <th>option 1 </th>
                          <th>Question </th>
                          <th>Quant/Verbal </th>
                          <th>Group </th>
                          <th>Quiz type</th>
                          <th>Quiz sub type</th>
                          <th><button class="btn allam-btn btn-warning" (click)="deletItem()" title="Delete" type="button"><i class="icofont icofont-ui-delete"></i></button> </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of fileData">
                          <td class="">{{ item.level }}</td>
                          <td class="">{{ item.answer }}</td>
                          <td class="">{{ item.option4 }}</td>
                          <td class="">{{ item.option3 }}</td>
                          <td class="">{{ item.option2 }}</td>
                          <td class="">{{ item.option1 }}</td>
                          <td class="">{{ item.question }}</td>
                          <td class="">{{ item.quant_verbal }}</td>
                          <td class="">{{ item.group }}</td>
                          <td class="">{{ item.quiz_type }}</td>
                          <td class="">{{ item.quiz_sub_type }}</td>
                         <!--  <td><button type="button" class="btn btn-warning" (click)="removeQuiz(item)"><i class="icofont icofont-ui-delete"></i> </button></td> -->
                          <td class="categories"><input type="checkbox"  name="del_row" [value]="item.question" (change)="onCheckboxChange($event,item.question)" >
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-xs-12 col-md-12">
                      <div class="m-t-15">
                          <button (click)="reUpload()" class="btn allam-btn-green text-white round-border ">
                            Cancel
                          </button> &nbsp; 
                          <button (click)="onSubmitData()" class="btn allam-btn-green text-white round-border ">
                            Publish
                          </button>
                      </div>
                      
                    </div>
                  </div>
                </div>
        </div>
      </div>
    </div>
  </div>
</div>